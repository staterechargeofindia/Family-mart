<!DOCTYPE html>
<html>
<head>
  <title>ISI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header style="display:flex;align-items:center;justify-content:space-between;
padding:12px;background:#2874f0;color:white">
  <span onclick="history.back()">‚¨ÖÔ∏è</span>
  <b>ISI</b>
  <span onclick="location.href='index.html'">üè†</span>
</header>

<div class="products" id="productList"></div>

<script src="js/cart.js"></script>
<script>
const products = JSON.parse(localStorage.getItem("products")) || [];
const box = document.getElementById("productList");

if(products.length===0){
  box.innerHTML="<div class='card'>No products</div>";
}

products.forEach(p=>{
  box.innerHTML+=`
  <div class="card-product">
    <img src="${p.images[0]}" onclick="zoom('${p.images[0]}')">
    <img src="${p.images[1]}" onclick="zoom('${p.images[1]}')" style="margin-top:6px">
    <b>${p.name}</b>
    <p>${p.desc}</p>
    <div class="price">
      ‚Çπ${p.price} <del>‚Çπ${p.mrp}</del> ${p.discount}% OFF
    </div>
    <button onclick="addToCart('${p.name}',${p.price},'${p.merchant}')">
      Add to Cart
    </button>
  </div>`;
});

function zoom(src){
  const o=document.createElement("div");
  o.style="position:fixed;top:0;left:0;width:100%;height:100%;background:black;display:flex;align-items:center;justify-content:center;z-index:9999";
  o.innerHTML=`<img src="${src}" style="max-width:95%;max-height:95%">`;
  o.onclick=()=>document.body.removeChild(o);
  document.body.appendChild(o);
}
</script>

</body>
</html>
