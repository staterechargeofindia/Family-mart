<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Manage Address</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <span onclick="history.back()">â†</span>
  <b>Manage Address</b>
  <span onclick="location.href='index.html'">ğŸ </span>
</header>

<div class="container">

  <div class="card">
    <input id="name" placeholder="Full Name">
    <input id="mobile" placeholder="Mobile Number">
    <textarea id="address" placeholder="Full Address"></textarea>
    <input id="district" placeholder="District">
    <input id="state" placeholder="State">
    <input id="pincode" placeholder="Pin Code">
    <button onclick="saveAddress()">Save Address</button>
  </div>

  <div id="list"></div>

</div>

<script>
let addresses = JSON.parse(localStorage.getItem("addresses")) || [];

function saveAddress(){
  const obj = {
    id: Date.now(),
    name: name.value.trim(),
    mobile: mobile.value.trim(),
    address: address.value.trim(),
    district: district.value.trim(),
    state: state.value.trim(),
    pincode: pincode.value.trim(),
    primary: addresses.length === 0
  };

  if(!obj.name || !obj.mobile || !obj.address){
    alert("Please fill required fields");
    return;
  }

  addresses.push(obj);
  localStorage.setItem("addresses", JSON.stringify(addresses));
  clearForm();
  render();
}

function setPrimary(id){
  addresses.forEach(a => a.primary = false);
  const found = addresses.find(a => a.id === id);
  if(found) found.primary = true;
  localStorage.setItem("addresses", JSON.stringify(addresses));
  render();
}

function render(){
  list.innerHTML = "";
  addresses.forEach(a => {
    const d = document.createElement("div");
    d.className = "address-item" + (a.primary ? " primary" : "");
    d.innerHTML = `
      <div class="primary-btn ${a.primary ? "active":""}"
           onclick="setPrimary(${a.id})">âœ“</div>
      <b>${a.name}</b><br>
      ${a.mobile}<br>
      ${a.address}<br>
      ${a.district}, ${a.state} - ${a.pincode}
    `;
    list.appendChild(d);
  });
}

function clearForm(){
  name.value = mobile.value = address.value =
  district.value = state.value = pincode.value = "";
}

render();
</script>

</body>
</html>
