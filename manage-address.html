<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Manage Address</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <span onclick="history.back()">â†</span>
  <b>Manage Address</b>
  <span onclick="location.href='index.html'">ğŸ </span>
</header>

<div class="container">

  <div class="card">
    <input id="name" placeholder="Full Name">
    <input id="mobile" placeholder="Mobile Number">
    <textarea id="address" placeholder="Full Address"></textarea>
    <input id="district" placeholder="District">
    <input id="state" placeholder="State">
    <input id="pincode" placeholder="Pin Code">
    <button onclick="addAddress()">Add Address</button>
  </div>

  <div id="addressList"></div>

</div>

<script>
let addresses = JSON.parse(localStorage.getItem("addresses")) || [];

function addAddress(){
  const obj={
    id:Date.now(),
    name:name.value,
    mobile:mobile.value,
    address:address.value,
    district:district.value,
    state:state.value,
    pincode:pincode.value,
    primary:addresses.length===0
  };
  addresses.push(obj);
  localStorage.setItem("addresses",JSON.stringify(addresses));
  render();
}

function setPrimary(id){
  addresses.forEach(a=>a.primary=false);
  addresses.find(a=>a.id===id).primary=true;
  localStorage.setItem("addresses",JSON.stringify(addresses));
  render();
}

function render(){
  addressList.innerHTML="";
  addresses.forEach(a=>{
    const d=document.createElement("div");
    d.className="address-item"+(a.primary?" primary":"");
    d.innerHTML=`
      <div class="primary-btn ${a.primary?'active':''}"
        onclick="setPrimary(${a.id})">âœ“</div>
      <b>${a.name}</b><br>
      ${a.mobile}<br>
      ${a.address}<br>
      ${a.district}, ${a.state} - ${a.pincode}
    `;
    addressList.appendChild(d);
  });
}
render();
</script>

</body>
</html>
